<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!-- bootstrap CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
		<title>{% block title %}Home{% endblock %}</title>
		<script src="https://www.google.com/recaptcha/api.js" async defer></script>

		<style>
			/* Custom styles */
			.custom-navbar {
				background-color: #3761BF;
				border-color: #3761BF;
			}
		</style>
	</head>
	<body>
		<nav class="navbar navbar-inverse navbar-fixed-top custom-navbar">
			<div class="container-fluid">
				<ul class="nav navbar-nav navbar-left">
					{% if user.is_authenticated %}
						{% if user.role.isAdmin() %}
							<li>
								<a style="color: #ffffff; border-radius: 50px;" onmouseover="this.style.backgroundColor='#4070FF'" onmouseout="this.style.backgroundColor='#3761BF'" id="home" href="/">Home</a>
							</li>
						{% endif %}
						<li>
							<a style="color: #ffffff; border-radius: 50px;" onmouseover="this.style.backgroundColor='#4070FF'" onmouseout="this.style.backgroundColor='#3761BF'" id="comments" href="/comments">Comments</a>
						</li>
						<li>
							<a style="color: #ffffff; border-radius: 50px;" onmouseover="this.style.backgroundColor='#4070FF'" onmouseout="this.style.backgroundColor='#3761BF'" id="users" href="/users">Users</a>
						</li>
						<li>
							<a style="color: #ffffff; border-radius: 50px;" onmouseover="this.style.backgroundColor='#4070FF'" onmouseout="this.style.backgroundColor='#3761BF'" id="add-user" href="/add-user">Add User</a>
						</li>
					{% endif %}
				</ul>
				<ul class="nav navbar-nav navbar-right">
					{% if user.is_authenticated %}
						<li>
							<form class="navbar-form navbar-right" action="/" method="post">
								<div class="form-group">
									<input type="text" class="form-control" placeholder="Search" name="query" id="news-query">
								</div>
							</form>
						</li>
						<li>
							<a style="color: #ffffff; border-radius: 50px;" onmouseover="this.style.backgroundColor='#4070FF'" onmouseout="this.style.backgroundColor='#3761BF'" id="logout" href="/logout">Logout</a>
						</li>
					{% else %}
						<li>
							<a style="color: #ffffff; border-radius: 50px;" onmouseover="this.style.backgroundColor='#4070FF'" onmouseout="this.style.backgroundColor='#3761BF'" id="login" href="/login">Login</a>
						</li>
						<li>
							<a style="color: #ffffff; border-radius: 50px;" onmouseover="this.style.backgroundColor='#4070FF'" onmouseout="this.style.backgroundColor='#3761BF'" id="signUp" href="/sign-up">Sign Up</a>
						</li>
					{% endif %}
				</ul>
			</div>
		</nav>

		{% with messages = get_flashed_messages(with_categories=true) %}
			{% if messages %}
				{% for category, message in messages %}
					{% if category == "error" %}
						<div class="alert alert-danger alert-dismissable fade show" role="alert">
							{{ message }}
							<button type="button" class="close" data-dismiss="alert">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
					{% else %}
						<div class="alert alert-success alert-dismissable fade show" role="alert">
							{{ message }}
							<button type="button" class="close" data-dismiss="alert">
								<span aria-hidden="true">&times;</span>
							</button>
						</div>
					{% endif %}
				{% endfor %}
			{% endif %}
		{% endwith %}

		<div class="container" style="padding-top: 60px;">
			{% block content %}
			{% endblock %}
		</div>

		<!-- jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

		<!-- Latest compiled JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	</body>
</html>
